<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>form đăng kí</title>
    <style>
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      body {
        background-image: url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-7RLYuxVfa4_kOIj5GdTQo4p3TZuO2hOa1A&usqp=CAU);
        background-repeat: no-repeat;
        background-size: cover;
      }

      h1 {
        text-transform: uppercase;
        text-align: center;
        font-size: 24px;
        margin-bottom: 2rem;
      }

      .container {
        width: 400px;
        border: 1px solid;
        padding: 20px;
      }

      .form-input {
        margin-bottom: 1rem;
        position: relative;
      }

      .form-input button {
        content: "";
        position: absolute;
        right: 10px;
        top: 28px;
        border: none;
        background-color: transparent;
      }

      .form-input button:hover {
        text-decoration: underline;
        color: #3171e5;
      }

      input {
        border: 1px solid #ccc;
        height: 36px;
        line-height: 36px;
        padding-left: 10px;
        width: 100%;
      }

      #btn {
        display: block;
        width: 100%;
        padding: 10px;
        background-color: #3171e5;
        color: #fff;
        border: none;
        outline: none;
        cursor: pointer;
      }

      #btn:disabled {
        background-color: unset;
      }

      .error {
        display: inline-block;
        color: orangered;
      }

      .success {
        border: 1px solid green;
        padding: 1rem;
        margin-bottom: 1rem;
      }

      .alert {
        color: #fff;
        background-color: #0be881;
        height: 50%;
        width: 60%;
        font-size: 2em;
        position: absolute;
        top: -600px;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 10px;
      }
      .text-tieude {
        height: 100%;
        width: 100%;
        font-size: 160%;
        font-weight: 500;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <div class="alert">Registration completed successfully</div>
    <div class="container">
      <div class="text-tieude">Đăng kí</div>
      <form id="registrationForm">
        <div class="form-input">
          <input id="username" type="text" />
        </div>
        <div class="form-input">
          <input id="password" type="password" />
          <button>Hiện</button>
        </div>
        <div class="form-input">
          <input id="confirmPassword" type="password" />
          <button>Hiện</button>
        </div>
        <button type="submit" id="btn">Register</button>
      </form>
    </div>
    <script>
      // Thêm label cho các trường username, password, confirm password

      let username = document.querySelector("#username");
      let password = document.querySelector("#password");
      let confirm = document.querySelector("#confirmPassword");

      let labelUsername = document.createElement("label");
      labelUsername.for = "username";
      labelUsername.innerText = "Username: ";
      username.insertAdjacentElement("beforebegin", labelUsername);

      let labelPassword = document.createElement("label");
      labelPassword.for = "password";
      labelPassword.innerText = "Password: ";
      password.insertAdjacentElement("beforebegin", labelPassword);

      let labelConfirm = document.createElement("label");
      labelConfirm.for = "confirmPassword";
      labelConfirm.innerText = "Confirm : ";
      confirm.insertAdjacentElement("beforebegin", labelConfirm);

      // Kiểm tra xem password và confirm pass có trùng nhau hay không

      password.addEventListener("input", function () {
        if (password.value === confirm.value) {
          
          password.classList.add("success");
          confirm.classList.add("success");
          password.classList.remove("error");
          confirm.classList.remove("error");
          
        } else {
          password.classList.remove("success");
          confirm.classList.remove("success");
          password.classList.add("error");
          confirm.classList.add("error");
        }
      });

      confirm.addEventListener("input", function () {
        if (password.value === confirm.value) {
          password.classList.add("success");
          confirm.classList.add("success");
          password.classList.remove("error");
          confirm.classList.remove("error");
        } else {
          password.classList.remove("success");
          confirm.classList.remove("success");
          password.classList.add("error");
          confirm.classList.add("error");
        }
      });

      // Đảm bảo nút ‘Đăng ký’ bị disable cho đến khi người dùng nhập dữ liệu hợp lệ vào tất cả các trường đầu vào.
      // Sau khi nhập đầy đủ thì ‘Đăng ký’ được enable.

      let submit = document.querySelector("#btn");
      submit.disabled = true;

      username.addEventListener("input", function () {
        if (
          username.value !== "" &&
          password.value !== "" &&
          password.value === confirm.value
        ) {
          submit.disabled = false;
        } else {
          submit.disabled = true;
        }
      });
      password.addEventListener("input", function () {
        if (
          username.value !== "" &&
          password.value !== "" &&
          password.value === confirm.value
        ) {
          submit.disabled = false;
        } else {
          submit.disabled = true;
        }
      });
      confirm.addEventListener("input", function () {
        if (
          username.value !== "" &&
          password.value !== "" &&
          password.value === confirm.value
        ) {
          submit.disabled = false;
        } else {
          submit.disabled = true;
        }
      });
      // Khi user nhập đủ thông tin và bấm vào nút submit thì tạo 1 hộp thoại thông báo đăng ký thành công
      let container = document.querySelector(".container");
      let alert = document.querySelector(".alert");
      submit.addEventListener('click', function () {
        submit.innerHTML = ('Đăng kí thành công')
        
      });
    </script>
  </body>
</html>
